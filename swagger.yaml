openapi: 3.0.3
info:
  title: City Guardian
  version: 1.0.0
  description: Documentaci√≥n de la API para el sistema

servers:
  - url: http://localhost:8080/api/
    description: Servidor local de desarrollo

security:
  - BearerAuth: []  

paths:

  /login:
    post:
      summary: Iniciar sesi√≥n y obtener un token JWT
      security: []
      tags:
        - Autenticaci√≥n
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CredencialesLogin"
      responses:
        "200":
          description: Inicio de sesi√≥n exitoso, devuelve el token de acceso
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RespuestaToken"
        "400":
          description: Datos de inicio de sesi√≥n incorrectos o faltantes
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "401":
          description: Usuario o contrase√±a incorrectos
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "500":
          description: Error interno del servidor.
  /reset-password:
    post:
      summary: Solicitar restablecimiento de contrase√±a
      security: [] 
      tags:
        - Autenticaci√≥n
      description: |
        Envia un c√≥digo de verificaci√≥n al correo del usuario para restablecer la contrase√±a.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestResetPassword"
      responses:
        "200":
          description: C√≥digo enviado con √©xito al correo
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RespuestaGeneral"
        "400":
          description: Formato de correo inv√°lido o correo no registrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuestaResetPassword"
        "500":
          description: Error interno del servidor.
  /reset-password/verify:
    post:
      summary: Verificar c√≥digo de recuperaci√≥n
      tags:
        - Autenticaci√≥n
      description: |
        Permite verificar el c√≥digo de recuperaci√≥n enviado por correo.
        Si el c√≥digo es v√°lido, devuelve el ID del usuario.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VerificarCodigo"
      responses:
        "200":
          description: C√≥digo v√°lido, devuelve el ID del usuario
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RespuestaVerificacion"
        "400":
          description: C√≥digo incorrecto o expirado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "500":
          description: Error interno del servidor.

    put:
      summary: Restaurar contrase√±a
      tags:
        - Autenticaci√≥n
      description: |
        Permite cambiar la contrase√±a si el c√≥digo de verificaci√≥n fue validado correctamente.
        La nueva contrase√±a debe ser confirmada.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NuevaContrasena"
      responses:
        "200":
          description: Contrase√±a actualizada con √©xito
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RespuestaGeneral"
        "400":
          description: Datos inv√°lidos o contrase√±as no coinciden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "401":
          description: No autorizado (c√≥digo inv√°lido o expirado)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "500":
          description: Error interno del servidor.
  /users:
    get:
      summary: Obtiene la lista de clientes
      tags:
        - Cliente
      responses:
        "200":
          description: Lista de clientes obtenida con √©xito
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RespuestaListaClientes"
        "400":
          description: Solicitud incorrecta
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "401":
          description: No autorizado (token inv√°lido o ausente)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "500":
          description: Error interno del servidor.

    post:
      summary: Crea un nuevo cliente (sin autenticaci√≥n)
      security: []  # üî¥ No requiere autenticaci√≥n
      tags:
        - Cliente
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NuevoCliente"
      responses:
        "201":
          description: Cliente creado con √©xito
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RespuestaCliente"
        "400":
          description: Datos de entrada inv√°lidos
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "500":
          description: Error interno del servidor.
  /users/{id}:
    get:
      summary: Obtiene un cliente por ID
      tags:
        - Cliente
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Cliente obtenido con √©xito
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RespuestaCliente"
        "400":
          description: ID de cliente inv√°lido
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "401":
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "500":
          description: Error interno del servidor.

    put:
      summary: Actualiza un cliente existente
      tags:
        - Cliente
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Cliente"
      responses:
        "200":
          description: Cliente actualizado con √©xito
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RespuestaCliente"
        "400":
          description: Datos de actualizaci√≥n inv√°lidos
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "401":
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "500":
          description: Error interno del servidor.

    delete:
      summary: Elimina un cliente por ID
      tags:
        - Cliente
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Cliente eliminado con √©xito
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RespuestaGeneral"
        "400":
          description: ID de cliente inv√°lido
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "401":
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "500":
          description: Error interno del servidor.
  /reportes:
    get:
      summary: Obtener la lista de reportes del cliente
      security:
        - BearerAuth: [] 
      tags:
        - Reportes
      description: |
        Permite al cliente ver la lista de reportes que ha generado.
      responses:
        "200":
          description: Lista de reportes obtenida con √©xito
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RespuestaListaReportes"
        "400":
          description: Solicitud incorrecta
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "401":
          description: No autorizado (token faltante o inv√°lido)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
    post:
      summary: Crear un nuevo reporte
      security:
        - BearerAuth: []  
      tags:
        - Reportes
      description: |
        Permite al cliente crear un nuevo reporte proporcionando t√≠tulo, descripci√≥n, direcci√≥n e im√°genes.
      requestBody:
        required: true
        content:
          multipart/form-data:  # üñºÔ∏è Permite subir im√°genes
            schema:
              $ref: "#/components/schemas/NuevoReporte"
      responses:
        "201":
          description: Reporte creado con √©xito
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RespuestaReporte"
        "400":
          description: Datos inv√°lidos o faltantes
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "401":
          description: No autorizado (token faltante o inv√°lido)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "500":
          description: Error interno del servidor.
  /reportes/{id}:
    put:
      summary: Editar un reporte existente
      security:
        - BearerAuth: []  # üîê Requiere autenticaci√≥n con token
      tags:
        - Reportes
      description: |
        Permite al cliente editar un reporte previamente creado, modificando el t√≠tulo, descripci√≥n, direcci√≥n e im√°genes.
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: ID del reporte a editar
      requestBody:
        required: true
        content:
          multipart/form-data:  # üñºÔ∏è Permite subir im√°genes actualizadas
            schema:
              $ref: "#/components/schemas/EditarReporte"
      responses:
        "200":
          description: Reporte actualizado con √©xito
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RespuestaReporte"
        "400":
          description: Datos inv√°lidos o faltantes
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "401":
          description: No autorizado (token faltante o inv√°lido)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "404":
          description: Reporte no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "500":
          description: Error interno del servidor.
    delete:
      summary: Eliminar un reporte existente
      security:
        - BearerAuth: []  # üîê Requiere autenticaci√≥n con token
      tags:
        - Reportes
      description: |
        Permite al cliente eliminar un reporte previamente creado. 
        Se debe confirmar la eliminaci√≥n antes de proceder.
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: ID del reporte a eliminar
      responses:
        "200":
          description: Reporte eliminado con √©xito
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RespuestaGeneral"
        "400":
          description: ID de reporte inv√°lido
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "401":
          description: No autorizado (token faltante o inv√°lido)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "404":
          description: Reporte no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "500":
          description: Error interno del servidor.
    get:
      summary: Obtener el detalle de un reporte
      security:
        - BearerAuth: []  # üîê Requiere autenticaci√≥n
      tags:
        - Reportes
      description: |
        Permite al cliente ver el detalle completo de un reporte, 
        incluyendo su trazabilidad de estados, comentarios y opciones de acci√≥n.
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: ID del reporte a consultar
      responses:
        "200":
          description: Detalle del reporte obtenido con √©xito
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RespuestaDetalleReporte"
        "400":
          description: ID de reporte inv√°lido
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "401":
          description: No autorizado (token faltante o inv√°lido)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "404":
          description: Reporte no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "500":
          description: Error interno del servidor.
  /reportes/{id}/resolver:
    put:
      summary: Marcar un reporte como resuelto
      security:
        - BearerAuth: [] 
      tags:
        - Reportes
      description: |
        Permite al cliente marcar un reporte como resuelto. 
        Un modal de confirmaci√≥n debe aparecer antes de procesar la solicitud.
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: ID del reporte a marcar como resuelto
      responses:
        "200":
          description: Reporte marcado como resuelto con √©xito
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RespuestaGeneral"
        "400":
          description: ID de reporte inv√°lido o estado incorrecto
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "401":
          description: No autorizado (token faltante o inv√°lido)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "404":
          description: Reporte no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "500":
          description: Error interno del servidor.
  /reportes/{id}/importante:
    put:
      summary: Marcar o desmarcar un reporte como importante
      security:
        - BearerAuth: []  # üîê Requiere autenticaci√≥n
      tags:
        - Reportes
      description: |
        Permite al cliente marcar un reporte como importante o quitarle la clasificaci√≥n de importante.
        Si el reporte ya es importante, lo desmarca; si no lo es, lo marca como importante.
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: ID del reporte a clasificar
      responses:
        "200":
          description: Estado del reporte actualizado correctamente
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RespuestaGeneral"
        "400":
          description: ID de reporte inv√°lido
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "401":
          description: No autorizado (token faltante o inv√°lido)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "404":
          description: Reporte no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "500":
          description: Error interno del servidor.
  /reportes/{id}/comentarios:
    post:
      summary: Agregar un comentario a un reporte
      security:
        - BearerAuth: []  # üîê Requiere autenticaci√≥n
      tags:
        - Reportes
      description: |
        Permite a un cliente agregar un comentario a un reporte espec√≠fico.
        El comentario debe tener entre 5 y 200 caracteres.
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: ID del reporte al que se agregar√° el comentario
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NuevoComentario"
      responses:
        "201":
          description: Comentario agregado con √©xito
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RespuestaComentario"
        "400":
          description: Datos inv√°lidos (comentario muy corto o largo)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "401":
          description: No autorizado (token faltante o inv√°lido)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "404":
          description: Reporte no encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "500":
          description: Error interno del servidor.
  /reportes/filter:
    post:
      summary: Filtrar reportes
      security:
        - BearerAuth: []
      tags:
        - Reportes
      description: |
        Devuelve una lista de reportes aplicando filtros como fecha, estado y categor√≠a.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                fecha_inicio:
                  type: string
                  format: date
                  example: "2024-01-01"
                  description: Fecha de inicio del filtro (YYYY-MM-DD)
                fecha_fin:
                  type: string
                  format: date
                  example: "2024-01-31"
                  description: Fecha de fin del filtro (YYYY-MM-DD)
                estado:
                  type: string
                  enum: [Creado, Verificado, Rechazado, Resuelto]
                  example: "Verificado"
                  description: Estado del reporte
                categoria:
                  type: string
                  example: "Incidente"
                  description: Categor√≠a del reporte
      responses:
        "200":
          description: Lista de reportes filtrados obtenida con √©xito
          content:
            application/json:
              schema:
                type: object
                properties:
                  reportes:
                    type: array
                    items:
                      $ref: "#/components/schemas/Reporte"
        "400":
          description: Par√°metros inv√°lidos
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "401":
          description: No autorizado (token inv√°lido o ausente)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorRespuesta"
        "500":
          description: Error interno del servidor

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    DetalleReporte:
      type: object
      properties:
        id:
          type: integer
          example: 1
        titulo:
          type: string
          example: "√Årbol ca√≠do en la v√≠a"
        descripcion:
          type: string
          example: "Un √°rbol bloquea la calle principal"
        direccion:
          type: string
          example: "Calle 5, Zona Centro"
        imagenes:
          type: array
          items:
            type: string
            format: uri
          example: ["https://ejemplo.com/imagen1.jpg", "https://ejemplo.com/imagen2.jpg"]
        estado_actual:
          type: string
          enum: ["Creado", "Verificado", "Rechazado", "Resuelto"]
          example: "Verificado"
        trazabilidad_estados:
          type: array
          items:
            $ref: "#/components/schemas/EstadoReporte"
        comentarios:
          type: array
          items:
            $ref: "#/components/schemas/Comentario"
    RespuestaVerificacion:
      type: object
      properties:
        success:
          type: boolean
          example: true
        message:
          type: string
          example: "C√≥digo v√°lido"
        data:
          type: object
          properties:
            id:
              type: integer
              example: 42
    NuevaContrasena:
      type: object
      required:
        - id
        - nuevaContrase√±a
        - confirmarContrase√±a
      properties:
        id:
          type: integer
          example: 42
        nuevaContrase√±a:
          type: string
          format: password
          example: "NuevaClave123"
        confirmarContrase√±a:
          type: string
          format: password
          example: "NuevaClave123"
    VerificarCodigo:
      type: object
      required:
        - correo
        - codigo
      properties:
        correo:
          type: string
          format: email
          example: "usuario@example.com"
        codigo:
          type: string
          example: "123456"
    Comentario:
      type: object
      properties:
        usuario:
          type: string
          example: "juanperez"
        mensaje:
          type: string
          example: "Espero que solucionen esto pronto"
        fecha:
          type: string
          format: date-time
          example: "2024-03-04T15:00:00Z"
    EstadoReporte:
      type: object
      properties:
        estado:
          type: string
          enum: ["Creado", "Verificado", "Rechazado", "Resuelto"]
          example: "Verificado"
        fecha_cambio:
          type: string
          format: date-time
          example: "2024-03-04T14:30:00Z"
    NuevoReporte:
      type: object
      required:
        - titulo
        - descripcion
        - direccion
      properties:
        titulo:
          type: string
          example: "Fuga de agua en la calle"
        descripcion:
          type: string
          example: "Se ha detectado una fuga de agua en la avenida principal."
        direccion:
          type: string
          example: "Avenida Siempre Viva 742, Springfield"
        imagenes:
          type: array
          items:
            type: string
            format: binary  # üì∑ Permite subir im√°genes
    Reporte:
      type: object
      properties:
        id:
          type: integer
          example: 123
        titulo:
          type: string
          example: "Falla en el sistema"
        descripcion:
          type: string
          example: "El sistema se reinicia inesperadamente."
        fecha_creacion:
          type: string
          format: date-time
          example: "2024-01-15T10:30:00Z"
        estado:
          type: string
          enum: [Creado, Verificado, Rechazado, Resuelto]
          example: "Verificado"
        categoria:
          type: string
          example: "Incidente"
    NuevoCliente:
      type: object
      required:
        - nombre
        - apellido
        - telefono
        - direccion
        - correo
        - contrase√±a
      properties:
        nombre:
          type: string
          example: "Juan"
        apellido:
          type: string
          example: "P√©rez"
        telefono:
          type: string
          example: "+1 555-1234"
        direccion:
          type: string
          example: "Calle Falsa 123, Ciudad, Pa√≠s"
        correo:
          type: string
          format: email
          example: "juan.perez@example.com"
        contrase√±a:
          type: string
          example: "secreto123"

    Cliente:
      allOf:
        - $ref: "#/components/schemas/NuevoCliente"
        - type: object
          properties:
            id:
              type: integer
              example: 1

    RespuestaCliente:
      type: object
      properties:
        success:
          type: boolean
          example: true
        message:
          type: string
          example: "Operaci√≥n exitosa"
        data:
          $ref: "#/components/schemas/Cliente"
        errors:
          type: object
          nullable: true
          example: null

    RespuestaListaClientes:
      type: object
      properties:
        success:
          type: boolean
          example: true
        message:
          type: string
          example: "Operaci√≥n exitosa"
        data:
          type: array
          items:
            $ref: "#/components/schemas/Cliente"
        errors:
          type: object
          nullable: true
          example: null

    RespuestaGeneral:
      type: object
      properties:
        success:
          type: boolean
          example: true
        message:
          type: string
          example: "Operaci√≥n exitosa"
        errors:
          type: object
          nullable: true
          example: null

    ErrorRespuesta:
      type: object
      properties:
        success:
          type: boolean
          example: false
        message:
          type: string
          example: "Error en la solicitud"
        errors:
          type: array
          items:
            type: string
          example: ["El token es inv√°lido", "Faltan datos requeridos"]

    ErrorRespuestaResetPassword:
      type: object
      properties:
        success:
          type: boolean
          example: false
        message:
          type: string
          example: "Error"
        errors:
          type: array
          items:
            type: string
          example: ["Error el Correo no existe"]

    CredencialesLogin:
      type: object
      required:
        - usuario
        - contrase√±a
      properties:
        usuario:
          type: string
          example: "juanperez"
        contrase√±a:
          type: string
          example: "secreto123"

    RespuestaToken:
      type: object
      properties:
        success:
          type: boolean
          example: true
        message:
          type: string
          example: "Inicio de sesi√≥n exitoso"
        token:
          type: string
          example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

    RequestResetPassword:
      type: object
      required:
        - correo
      properties:
        correo:
          type: string
          format: email
          example: "juan.perez@example.com"
    VerifyResetPassword:
      type: object
      required:
        - correo
        - codigo
        - nueva_contrase√±a
      properties:
        correo:
          type: string
          format: email
          example: "juan.perez@example.com"
        codigo:
          type: string
          example: "123456"
    ErrorRespuestaVerifyLogin:
      type: object
      properties:
        success:
          type: boolean
          example: false
        message:
          type: string
          example: "Error en la solicitud"
        errors:
          type: array
          items:
            type: string
          example: ["codigo invalido", "codigo expirado"]
    RespuestaListaReportes:
      type: object
      properties:
        success:
          type: boolean
          example: true
        message:
          type: string
          example: "Lista de reportes obtenida exitosamente"
        data:
          type: array
          items:
            $ref: "#/components/schemas/Reporte"
        errors:
          type: object
          nullable: true
          example: null
    RespuestaReporte:
      type: object
      properties:
        success:
          type: boolean
          example: true
        message:
          type: string
          example: "Reporte creado exitosamente"
        data:
          $ref: "#/components/schemas/Reporte"
        errors:
          type: object
          nullable: true
          example: null
    EditarReporte:
      type: object
      properties:
        titulo:
          type: string
          example: "Fuga de agua en la calle"
        descripcion:
          type: string
          example: "Se ha detectado una fuga de agua en la avenida principal."
        direccion:
          type: string
          example: "Avenida Siempre Viva 742, Springfield"
        imagenes:
          type: array
          items:
            type: string
            format: binary  # üì∑ Permite subir im√°genes actualizadas
    RespuestaDetalleReporte:
      type: object
      properties:
        success:
          type: boolean
          example: true
        message:
          type: string
          example: "Reporte obtenido exitosamente"
        data:
          $ref: "#/components/schemas/DetalleReporte"
        errors:
          type: object
          nullable: true
          example: null
    RespuestaComentario:
      type: object
      properties:
        success:
          type: boolean
          example: true
        message:
          type: string
          example: "Comentario agregado con √©xito"
        data:
          type: object
          properties:
            id:
              type: integer
              example: 123
            comentario:
              type: string
              example: "Este reporte necesita m√°s informaci√≥n."
            fecha:
              type: string
              format: date-time
              example: "2025-03-04T12:34:56Z"
        errors:
          type: object
          nullable: true
          example: null
    NuevoComentario:
      type: object
      required:
        - comentario
      properties:
        comentario:
          type: string
          minLength: 5
          maxLength: 200
          example: "Este reporte necesita m√°s informaci√≥n."
